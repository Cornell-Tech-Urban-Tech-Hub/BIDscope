---
import { Image } from 'astro:assets';

// Define the props interface
interface Props {
  src: string;
  alt: string;
  width?: number;
  height?: number;
}

// Get the props with defaults
const { 
  src, 
  alt, 
  width = undefined, 
  height = undefined 
} = Astro.props;

// Handle both absolute paths and paths that don't start with '/'
const imageSrc = src.startsWith('/') ? src : `/${src}`;
---

<div class="astro-image-container">
  <Image
    src={imageSrc}
    alt={alt}
    width={width}
    height={height}
    class="astro-loaded-image"
  />
</div>

<style>
  .astro-image-container {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }
  
  .astro-loaded-image {
    max-width: 100%;
    height: auto;
    object-fit: contain;
  }
</style>
